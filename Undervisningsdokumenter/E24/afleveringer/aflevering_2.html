<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Aflevering 2: forslag til besvarelse</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="aflevering_2_files/libs/clipboard/clipboard.min.js"></script>
<script src="aflevering_2_files/libs/quarto-html/quarto.js"></script>
<script src="aflevering_2_files/libs/quarto-html/popper.min.js"></script>
<script src="aflevering_2_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="aflevering_2_files/libs/quarto-html/anchor.min.js"></script>
<link href="aflevering_2_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="aflevering_2_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="aflevering_2_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="aflevering_2_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="aflevering_2_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

<link rel="stylesheet" href="css_etc/custom-theme-ilisimatusarfik-doc.css">
</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Aflevering 2: forslag til besvarelse</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<p><em>Følgende er et forslag til besvarelse af den anden ud af de seks obligatoriske afleveringer i faget.</em> <em>Brug det til at sammenligne med dine egne svar og diskutér med dine medstuderende.</em></p>
<section id="opret-et-script-og-åben-data" class="level2">
<h2 class="anchored" data-anchor-id="opret-et-script-og-åben-data">Opret et script og åben data</h2>
<p>Start med at åbne R-Studio ved at klikke på dit R-project. Opret dernæst et nyt script og gem det i samme mappe, som dit R-project. Du kan f.eks. kalde scriptet <em>Aflevering_2</em>.</p>
<ul>
<li><p>Brug <code>getwd()</code> til at sikre dig, at du arbejder i den rigtige mappe på computeren</p></li>
<li><p>Indlæs datasættet <strong>GL_perspektiver.rds</strong> som et objekt i dit script</p></li>
<li><p>Brug funktionen <code>names()</code> til at se, hvilke variable datasættet indeholder</p></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">getwd</span>() </span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">"GL_perspektiver.rds"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "e2"                           "e3agreenlandic"              
 [3] "e3bdanish"                    "e3cenglish"                  
 [5] "e3dother"                     "e4"                          
 [7] "e5"                           "j16municipality"             
 [9] "j16greenland_government"      "j16denmark_governmet"        
[11] "j16greenlandicmedia"          "j16danishmedia"              
[13] "j16greenlandicjudicialsystem" "l7foodhunt"                  
[15] "l7afoodhunt"                  "l7bfoodhunt"                 
[17] "l7cfoodhunt"                  "l7dfoodhunt"                 
[19] "l8foodshr"                    "l10church"                   
[21] "l11indbelfs"                  "l12income"                   
[23] "l13"                          "l15family"                   
[25] "l15friends"                   "l15bank"                     
[27] "l16educlev"                   "l19health"                   </code></pre>
</div>
</div>
</section>
<section id="populationer-og-stikprøver" class="level2">
<h2 class="anchored" data-anchor-id="populationer-og-stikprøver"><strong>1 Populationer og stikprøver</strong></h2>
<p>Forestil dig, at du har fået til opgave at gennemføre en spørgeskemaundersøgelse om indkomstfordelingen blandt mennesker i alderen 18-65 år i Grønland.</p>
<p><strong>a)&nbsp;Definér populationen for undersøgelsen</strong></p>
<p>En population defineres som den mængde af enheder, som vi gerne vil udtale os om. I dette tilfælde vil vi gerne udtale os om indkomst blandt mennesker i alderen 18-65 i Grønland. Derfor er populationen i dette tilfælde ikke hele den Grønlandske population, men kun dem i alderen 18-65 år. Det er nemlig dem, som vi gerne vil udtale os om. Vi kan skelne mellem universet (target population) som er hele denne gruppe, og så frame population, som er den del af universet, som vi faktisk kan udtrække til stikprøven. I dette tilfælde kan vi f.eks. definere vores frame population som værende alle borgere i alderen 18-65, der er bosidende i Grønland og dermed kan kontaktes via. et udtræk fra CPR-registeret.</p>
<p><strong>b) Hvordan ville du udvælge stikprøven til denne undersøgelse?</strong></p>
<p>Som udgangspunkt vil man foretrække simpel tilfældigt udtræk, der giver alle populationen enheder (her borgere) lige stor sandsynlighed for at blive udtrukket. Dermed vil stikprøven nemlig statistisk set blive repræsentativ for populationen, hvis den er stor nok. Dog kan man være bekymret for at få for få respondenter fra specifikke grupper, f.eks. mindre befolkede områder. Derfor kan man benytte stratificeret udvælgelse og trække tilfældigt indenfor definerede strata (f.eks. større byer og mindre områder). Det er ikke helt dumt i Grønland, hvis man gerne vil sikre, at de mindre områder er repræsenteret med en hvis størrelse i stikprøven.</p>
<p><strong>c) Hvad er problemet med en skæv stikprøve og hvilken betydning vil det have for din undersøgelse hvis din stikprøve bliver skæv?</strong></p>
<p>En skæv stikprøve er en stikprøve, der ikke er repræsentativ for den population, den er trukket fra. Måske er der ikke blevet trukket tilfældigt, måske har der været (systematisk) bortfald, eller måske har man bare været uheldig. Konsekvensen er, at man ikke kan generalisere sine fund tilbage til populationen. Det er derfor altid en god idé at analysere på repræsentativiteten for ens stikprøve på udvalgte kernevariable (f.eks. op mod populationsdata fra Grønlands Statistik). Det kan give overblik over, om ens stikprøve er over-/underrepræsenteret på vigtige parametre. Dette bruger vi f.eks. t-testen og <span class="math inline">\(\chi^2\)</span> testen til.</p>
</section>
<section id="stikprøver-og-statistisk-usikkerhed" class="level2">
<h2 class="anchored" data-anchor-id="stikprøver-og-statistisk-usikkerhed"><strong>2 Stikprøver og statistisk usikkerhed</strong></h2>
<p><strong>a) Forklar med udgangspunkt i store tals lov, hvad sammenhængen er mellem størrelsen på en stikprøve og den statistiske sikkerhed?</strong></p>
<p>Store tals lov fortæller os, at når stikprøvestørrelsen (<span class="math inline">\(n\)</span> ) bliver stor, vil gennemsnittet i stikprøven nærme sig populationens sande gennemsnit, (<span class="math inline">\(\mu\)</span>):</p>
<p><span class="math display">\[
\frac{1}{n} \sum_{i=1}^{n} X_i \rightarrow \mu \quad \text{når } n \to \infty
\]</span> hvor ( <span class="math inline">\(X_i\)</span> ) er en tilfældig variabel i stikprøven, og (<span class="math inline">\(\mu\)</span>) er populationsgennemsnittet. Den giver os en garanti for, at stikprøvegennemsnittet kommer tættere på populationsgennemsnittet, efterhånden som stikprøven bliver større! Vi kan altså mindre usikkerheden på vores resultater ved at øge stikprøvestørrelsen.</p>
<p><strong>b) Forklar med udgangspunkt i den centrale grænseværdisætning, hvorfor vi kan bruge normalfordelingen til at regne på den statistiske usikkerhed for et stikprøvegennemsnit, selvom den oprindelige variabel ikke var normalfordelt.</strong></p>
<p>Den centrale grænseværdisætning fortæller os, at uanset hvilken fordeling hver observation fra en simpel tilfældig stikprøve følger, så er stikprøvegennemsnittet approksimativt (”så godt som”) normalfordelt, når bare stikprøven er tilstrækkelig stor. Normalfordelte variable/estimatorer er skruet sådan sammen, at vi ud fra standardafvigelsen på en variabel kan sige, hvor stor en andel af observationerne der ligger inden for et given afstand til gennemsnittet. Derfor bruger vi i praksis standardafvigelsen fra en standardnormalfordeling til at fastlægge et acceptabelt niveau af usikkerhed, og estimere usikkerheden på sine stikprøveberegninger (typisk <span class="math inline">\(sd=1,96 = 95\%\)</span>).</p>
</section>
<section id="konfidensintervaller" class="level2">
<h2 class="anchored" data-anchor-id="konfidensintervaller">3 Konfidensintervaller</h2>
<p>Surveyen Grønlandske perspektiver indeholder følgende spørgsmål om fangst:</p>
<p><img src="images/clipboard-3086291316.png" class="img-fluid"></p>
<p>Den dikotome variabel <strong>l7afoodhunt</strong> måler, hvor mange respondenter, der har svaret ”<em>A. Det meste af det</em>”.&nbsp;</p>
<p><strong>a) Brug funktionen <code>t.test()</code> i R til at beregne andelen (gennemsnittet) og et 95% konfidensinterval for andelen, der har svaret ”A. Det meste af det”.</strong></p>
<p>Outputtet nedenfor viser, at ca. 21 % har svaret, at det meste af deres families mad kommer fra vildt, som de selv jager, fisker eller indsamler.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">t.test</span>(df<span class="sc">$</span>l7afoodhunt)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
    One Sample t-test

data:  df$l7afoodhunt
t = 12.709, df = 612, p-value &lt; 2.2e-16
alternative hypothesis: true mean is not equal to 0
95 percent confidence interval:
 0.1765430 0.2410753
sample estimates:
mean of x 
0.2088091 </code></pre>
</div>
</div>
<p><strong>b) Forklar hvilken information konfidensintervallet giver</strong></p>
<p>Konfidensintervallet er et udtryk for usikkerheden på dette estimat. Det giver os et interval, hvor den sande andel fra populationen sandsynligvis ligger (her med 95 % sandsynlighed). Helt præcist fortæller det os, at hvis undersøgelsen gennemføres flere gange (vi trækker flere stikprøver fra den samme population) og vi hver gang beregner tilsvarende 95% konfidensintervaller for gennemsnittet, så forventer vi, at 95% af disse konfidensintervaller vil indeholde den <strong><em>sande andel</em></strong> (fra populationen).</p>
</section>
<section id="t-test-for-univariat-analyse" class="level2">
<h2 class="anchored" data-anchor-id="t-test-for-univariat-analyse">4 <strong>T-test for univariat analyse</strong></h2>
<p>Ifølge Wikipedia mestrer ca. 85 % af befolkningen i Grønland det grønlandske sprog. Du skal nu bruge en t-test til at teste, om andelen af respondenterne i surveyen er signifkant forskellig fra denne <em>forventede</em> værdi.</p>
<p><strong>a) Opstil nul-hypotese og alternativ hypotese for en t-test, der tester om andelen i surveyen der taler grønlandsk (observeret andel) er signifikant forskellig fra den forventede andel (85%)</strong></p>
<p><em>H0: Andelen istikprøven er den samme som andelen i populationen, dvs. 85%</em></p>
<p><em>H1: Andelen i stikprøven er ikke den samme som andelen i populationen</em></p>
<p><strong>b) Gennemfør en t-test mod den forventede værdi i R. Du skal bruge variablen <em>e3agreenlandic</em>.</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>ttest_resultat <span class="ot">&lt;-</span> <span class="fu">t.test</span>(df<span class="sc">$</span>e3agreenlandic, <span class="at">mu=</span><span class="fl">0.85</span>)</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>resultat_df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">Parameter =</span> <span class="fu">c</span>(<span class="st">"Gennemsnit"</span>,                <span class="co"># Gennemsnittet af prøven</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>             <span class="st">"Test-statistik"</span>,               <span class="co"># Teststatistikken (t-værdien)</span></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>             <span class="st">"P-værdi"</span>,                      <span class="co"># P-værdien med 4 decimaler</span></span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>             <span class="st">"Nedre konfidensinterval"</span>,      <span class="co"># Nedre konfidensinterval for konfidensintervallet</span></span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a>             <span class="st">"Øvre konfidensinterval"</span>,       <span class="co"># Øvre konfidensinterval for konfidensintervallet</span></span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a>             <span class="st">"Frihedsgrader"</span>),               <span class="co"># Frihedsgrader (df)</span></span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a>  Værdi <span class="ot">=</span> <span class="fu">c</span>(</span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">round</span>(ttest_resultat<span class="sc">$</span>estimate, <span class="dv">3</span>),       <span class="co"># Gennemsnittet afrundet til 3 decimaler</span></span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a>    <span class="fu">round</span>(ttest_resultat<span class="sc">$</span>statistic, <span class="dv">3</span>),      <span class="co"># Teststatistikken afrundet til 3 decimaler</span></span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">sprintf</span>(<span class="st">"%.3f"</span>, ttest_resultat<span class="sc">$</span>p.value), <span class="co"># P-værdi med 3 decimaler </span></span>
<span id="cb6-14"><a href="#cb6-14" aria-hidden="true" tabindex="-1"></a>    <span class="fu">round</span>(ttest_resultat<span class="sc">$</span>conf.int[<span class="dv">1</span>], <span class="dv">3</span>),    <span class="co"># Nedre konfidensinterval afrundet til 3 decimaler</span></span>
<span id="cb6-15"><a href="#cb6-15" aria-hidden="true" tabindex="-1"></a>    <span class="fu">round</span>(ttest_resultat<span class="sc">$</span>conf.int[<span class="dv">2</span>], <span class="dv">3</span>),    <span class="co"># Øvre konfidensinterval afrundet til 3 decimaler</span></span>
<span id="cb6-16"><a href="#cb6-16" aria-hidden="true" tabindex="-1"></a>    <span class="fu">round</span>(ttest_resultat<span class="sc">$</span>parameter, <span class="dv">1</span>)       <span class="co"># Frihedsgrader afrundet til 1 decimal</span></span>
<span id="cb6-17"><a href="#cb6-17" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb6-18"><a href="#cb6-18" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb6-19"><a href="#cb6-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-20"><a href="#cb6-20" aria-hidden="true" tabindex="-1"></a><span class="co"># Udskriv tabellen i konsollen</span></span>
<span id="cb6-21"><a href="#cb6-21" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(resultat_df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                Parameter Værdi
1              Gennemsnit 0.919
2          Test-statistik 6.446
3                 P-værdi 0.000
4 Nedre konfidensinterval 0.898
5  Øvre konfidensinterval  0.94
6           Frihedsgrader   643</code></pre>
</div>
</div>
<p><strong>c) Konkludér på testen – er der signifikant forskel på andelen i surveyen der taler grønlandsk og den forventede andel? Forklar hvordan du konkluderer som du gør.</strong></p>
<p>Outputtet herunder viser, at andelen i stikprøven er <span class="math inline">\(0,92=92\%\)</span>. I vores test af, om denne værdi er signifikant forskellig fra den forventede andel <span class="math inline">\(85\%\)</span> får vi en p-værdi på <span class="math inline">\(0,000\)</span>. Da det er under vores kritiske grænse på <span class="math inline">\(0,05\)</span> forkaster/afviser vi nulhypotesen(H0) og konkluderer, at der er signifikant forskel på den forventende andel af folk, der taler grønlandsk og den andel, vi har i vores stikprøve. Hvis 85 % var et rigtig tal fra Grønlands statistik (det er jo kun fra Wikipedia), så ville der altså være grund til at tænke over, hvad dethar af konsekvenser for stikprøvens repræsentativitet, at grønlandsktalene er overrepræsenterede i vores stikprøve.</p>
</section>
<section id="chi2-test-goodness-of-fit-test-for-univariat-analyse" class="level2">
<h2 class="anchored" data-anchor-id="chi2-test-goodness-of-fit-test-for-univariat-analyse"><strong>5 Chi<sup>2</sup> test (goodness of fit test) for univariat analyse</strong></h2>
<p>Variablen <strong>j16greenlandicjudicialsystem</strong> måler, i hvor høj grad respondenternes stoler på det grønlandske retssystem på en skala fra 1 (overhovedet ikke) til 5 (i høj grad).</p>
<p><strong>a) Definér den forventede fordeling på variablen: hvor mange procent forventer <em>du</em> har svaret hhv. 1 (overhovedet ikke), 2, 3, 4, 5 (i høj grad)?</strong></p>
<p>Herunder definerer jeg, at jeg tror, at der er lige mange i hver kategori, dvs. 20 %:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>forventet_andele <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fl">0.2</span>, <span class="fl">0.2</span>, <span class="fl">0.2</span>, <span class="fl">0.2</span>, <span class="fl">0.2</span>)  <span class="co"># Din forventede fordeling</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Du skal nu bruge en chi<sup>2</sup>-test til at teste, hvor fordelingen i surveyen er signifikant forskellig fra din forventede fordeling</p>
<p><strong>b) Opstil nul-hypotese og alternativ hypotese for en chi<sup>2</sup>-test (goodness of fit test) der tester, om fordelingen i surveyen er signifikant forskellig fra din forventede fordeling på spørgsmålet om retssystemet (<em>j16greenlandicjudicialsystem</em>).</strong></p>
<p><em>H0: Den observerede fordeling er ikke signifikant forskellig fra den forventede fordeling</em></p>
<p><em>H1: Den observerede fordeling er signifikant forskellig fra den forventede fordeling.</em></p>
<p><strong>c) Gennemfør testen (følg fremgangsmåden i kodebogen)</strong></p>
<p>Først laves en frekvenstabel for at se, hvor mange vi har observeret i hver kategori. Antallet i hver kategori gemmes som en liste i et objekt som den <em>observerede fordeling</em>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(janitor)</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="fu">tabyl</span>(df<span class="sc">$</span>j16greenlandicjudicialsystem)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> df$j16greenlandicjudicialsystem   n    percent valid_percent
                               1  33 0.05124224    0.06285714
                               2  73 0.11335404    0.13904762
                               3 183 0.28416149    0.34857143
                               4 149 0.23136646    0.28380952
                               5  87 0.13509317    0.16571429
                              NA 119 0.18478261            NA</code></pre>
</div>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>observeret <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">33</span>, <span class="dv">72</span>, <span class="dv">183</span>, <span class="dv">148</span>, <span class="dv">86</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Herefter er vi klar til at sammenligne den observerede fordeling med den forventede fordeling med chi-testen:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>chi_test <span class="ot">&lt;-</span> <span class="fu">chisq.test</span>(<span class="at">x =</span> observeret, <span class="at">p =</span> forventet_andele)</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Formatér test-resultater og gem som tabel</span></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>(chi_tabel <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">Parameter =</span> <span class="fu">c</span>(<span class="st">"Chi-squared"</span>, <span class="st">"Frihedsgrader"</span>, <span class="st">"p-værdi"</span>),</span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a>  Værdi <span class="ot">=</span> <span class="fu">c</span>(<span class="fu">formatC</span>(chi_test<span class="sc">$</span>statistic, <span class="at">format =</span> <span class="st">"f"</span>, <span class="at">digits =</span> <span class="dv">3</span>),  <span class="co"># Chi-squared værdi</span></span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a>            chi_test<span class="sc">$</span>parameter,                                     <span class="co"># Frihedsgrader</span></span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a>            <span class="fu">formatC</span>(chi_test<span class="sc">$</span>p.value, <span class="at">format =</span> <span class="st">"f"</span>, <span class="at">digits =</span> <span class="dv">3</span>))    <span class="co"># p-værdi</span></span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>              Parameter   Værdi
X-squared   Chi-squared 139.513
df        Frihedsgrader       4
                p-værdi   0.000</code></pre>
</div>
</div>
<p><strong>d) Konkludér på testen – kan du afvise nulhypotesen? Er fordelingen i surveyen signifikant forskellig fra din forventede fordeling?</strong></p>
<p>Testen returnerer en p-værdi på <span class="math inline">\(p-værdi=0,000\)</span>. Dette er altså under vores kritiske grænse på <span class="math inline">\(0,05\)</span> og vi kan derfor forkaste nulhypotesen og går med alternativhypotesen. Vi konkluderer derfor, at der <em>er</em> en signifikant forskel på den observerede og forventede fordeling på variablen.</p>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>